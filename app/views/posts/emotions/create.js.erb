$(function(){
  var $hoverElement = $("#emotion-hover-<%= @post.id %>");

  $("#js-emotion-link-<%= @post.id %>").addClass("is-liked");

  $hoverElement.html("<%= escape_javascript render partial: '/posts/emotion-hover-content', locals: { post: @post } %>");

  $('#js-iine-container-<%= @post.id %>').html("<%= escape_javascript render partial: '/posts/iine', locals: {post: @post} %>");  

  $('#js-emotion-count-container-<%= @post.id %>').html("<%= escape_javascript render partial: '/posts/emotion_counts', locals: {post: @post} %>");

  $('#js-emotion-count-inline-container-<%= @post.id %>').html("<%= escape_javascript render partial: '/posts/emotion_counts_inline', locals: {post: @post} %>");

  $('.tooltip').each(function() {
    var tooltip = $(this);
    tooltip.data("is-active", false);
    tooltip.css("display", "none");
  });

  $hoverElement.foundation('close');
  new Foundation.Dropdown($hoverElement);

  app.rebind();
})

